{"version":3,"sources":["ShowPage.module.css","App.module.css","Show.module.css","Search.module.css","Show.js","Search.js","CenteredSpinner.js","App.js","ShowPage.js","index.js"],"names":["module","exports","showContainer","imgContainer","description","Wrapper","showsWrapper","notFound","showWrapper","showImage","searchWrapper","Show","_ref","show","goToShow","react_default","a","createElement","className","styles","onClick","permalink","src","image_thumbnail_path","alt","name","Search","state","text","handleChange","e","_this","setState","target","value","handleKeyDown","keyCode","fetch","concat","then","res","json","response","props","onSearchFinish","tv_shows","onKeyDown","this","onChange","Component","CenteredSpinner","style","height","width","display","flexDirection","position","alignItems","justifyContent","index_umd_default","size","color","App","page","tvShows","isLoading","search","loadTvShows","prevState","Object","toConsumableArray","loadMore","history","push","shows","_this2","src_CenteredSpinner","length","isLoadMoreVisible","src_Search","map","src_Show","key","id","ShowPage","match","params","showId","tvShow","_this3","Array","isArray","showPage","ReactDOM","render","BrowserRouter","basename","process","Switch","Route","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.6ed2712c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"showContainer\":\"ShowPage_showContainer__2ObM-\",\"imgContainer\":\"ShowPage_imgContainer__cp6wY\",\"description\":\"ShowPage_description__2ADtB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"App_Wrapper__2Vkyt\",\"showsWrapper\":\"App_showsWrapper__1ZAkc\",\"notFound\":\"App_notFound__23Ouc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"showWrapper\":\"Show_showWrapper__1PPRN\",\"showImage\":\"Show_showImage__2r6fK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchWrapper\":\"Search_searchWrapper__1PxR-\"};","import React from \"react\";\n\nimport styles from \"./Show.module.css\";\n\nconst Show = ({ show, goToShow }) => {\n  return (\n    <div className={styles.showWrapper}>\n      <div\n        onClick={() => goToShow(show.permalink)}\n        className={styles.showImage}\n      >\n        <img src={show.image_thumbnail_path} alt=\"thumbnail\" />\n      </div>\n      <p>{show.name}</p>\n    </div>\n  );\n};\n\nexport default Show;\n","import React, { Component } from \"react\";\nimport styles from \"./Search.module.css\";\n\nclass Search extends Component {\n  state = {\n    text: \"\"\n  };\n\n  handleChange = e => {\n    this.setState({ text: e.target.value });\n  };\n\n  handleKeyDown = e => {\n    if (e.keyCode === 13) {\n      fetch(`https://www.episodate.com/api/search?q=${this.state.text}`)\n        .then(res => res.json())\n        .then(response => this.props.onSearchFinish(response.tv_shows));\n    }\n  };\n\n  render() {\n    return (\n      <div className={styles.searchWrapper}>\n        <h1>Search for show</h1>\n        <input\n          onKeyDown={this.handleKeyDown}\n          value={this.state.text}\n          onChange={this.handleChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React from \"react\";\nimport Spinner from \"react-svg-spinner\";\n\nconst CenteredSpinner = () => {\n  const centerMe = {\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"fixed\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  };\n  return (\n    <div style={centerMe}>\n      <Spinner size=\"64px\" color=\"white\" />\n    </div>\n  );\n};\n\nexport default CenteredSpinner;\n","import React, { Component } from \"react\";\nimport Show from \"./Show\";\nimport Search from \"./Search\";\nimport CenteredSpinner from \"./CenteredSpinner\";\nimport Spinner from \"react-svg-spinner\";\n\nimport styles from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    page: 0,\n    tvShows: null,\n    isLoading: false,\n    search: false\n  };\n  componentDidMount() {\n    this.loadTvShows(1);\n  }\n\n  loadTvShows = page => {\n    fetch(`https://www.episodate.com/api/most-popular?page=${page}`)\n      .then(res => res.json())\n      .then(response =>\n        this.setState(prevState => ({\n          tvShows: [...(prevState.tvShows || []), ...response.tv_shows],\n          page: response.page,\n          isLoading: false,\n          search: false\n        }))\n      );\n  };\n\n  loadMore = () => {\n    this.setState({ isLoading: true });\n    this.loadTvShows(this.state.page + 1);\n  };\n\n  goToShow = show => {\n    this.props.history.push(`/${show}`);\n  };\n\n  onSearchFinish = shows => this.setState({ tvShows: shows, search: true });\n\n  render() {\n    if (!this.state.tvShows) {\n      return <CenteredSpinner />;\n    }\n\n    if (this.state.tvShows.length === 0) {\n      return (\n        <div className={styles.notFound}>\n          <h3> Nie znaleźliśmy takiego show :(</h3>\n        </div>\n      );\n    }\n    const isLoadMoreVisible =\n      !this.state.isLoading &&\n      this.state.tvShows.length > 0 &&\n      !this.state.search;\n\n    return (\n      <div className={styles.Wrapper}>\n        <Search onSearchFinish={this.onSearchFinish} />\n        <div className={styles.showsWrapper}>\n          {this.state.tvShows.map(show => (\n            <Show key={show.id} show={show} goToShow={this.goToShow} />\n          ))}\n        </div>\n        {this.state.isLoading && <Spinner size=\"64px\" color=\"white\" />}\n        {isLoadMoreVisible && (\n          <button onClick={this.loadMore}>Load more</button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from \"react\";\n// import Spinner from \"react-svg-spinner\";\nimport styles from \"./ShowPage.module.css\";\nimport CenteredSpinner from \"./CenteredSpinner\";\n\nclass ShowPage extends Component {\n  state = {\n    show: null\n  };\n  componentDidMount() {\n    fetch(\n      `https://www.episodate.com/api/show-details?q=${\n        this.props.match.params.showId\n      }`\n    )\n      .then(res => res.json())\n      .then(response => this.setState({ show: response.tvShow }));\n  }\n  render() {\n    if (!this.state.show) {\n      return <CenteredSpinner />;\n    }\n    if (Array.isArray(this.state.show)) {\n      return <h1>Ni ma takiej strony</h1>;\n    }\n    return (\n      <div className={styles.showPage}>\n        <div className={styles.showContainer}>\n          <h1>{this.state.show.name}</h1>\n          <div className={styles.imgContainer}>\n            <img src={this.state.show.image_thumbnail_path} alt=\"thumbnail\" />\n          </div>\n          <p className={styles.description}>{this.state.show.description}</p>\n          <button onClick={() => this.props.history.push(\"/\")}>Go back!</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ShowPage;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport App from \"./App\";\n\nimport ShowPage from \"./ShowPage\";\n\nReactDOM.render(\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Switch>\n      <Route exact path=\"/\" component={App} />\n      <Route path=\"/:showId\" component={ShowPage} />\n    </Switch>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}